/**
 * A state container (as expected by <Finder />) using query params.
 *
 * @param {{query: object}} location
 * @param {{push: function}} router
 * @param {string} pathname
 */
const QueryStateContainer = (location, router, pathname) => ({
  clear() {
    router.push(Object.assign({}, { pathname }));
  },

  get() {
    return location.query;
  },

  update(params) {
    router.push(Object.assign(
      {},
      { pathname },
      { query: Object.assign({}, this.get(), params) }
    ));
  },
});

export default QueryStateContainer;
