import * as React from 'react';
import { translate } from 'config/strings';

/**
 * Represents an input field with a button used to enter locations.
 */
export default React.createClass({
  displayName: 'UrlInput',

  propTypes: {
    onAction: React.PropTypes.func.isRequired,
  },

  handleButtonClick() {
    this.props.onAction('add-url', this._input.value);
    this._input.value = '';
    this._input.focus();
  },

  render() {
    return (
      <div className="input-group">
        <input
          ref={(c) => this._input = c}
          className="form-control"
          type="text"
        />
        <span className="input-group-btn">
          <button
            className="btn btn-default"
            type="button"
            onClick={this.handleButtonClick}
          >
            {translate('petitions.actions.add-location')}
          </button>
        </span>
      </div>
    );
  }
});
