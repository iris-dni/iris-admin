import * as React from 'react';
import { mount } from 'enzyme';
import { assert } from 'chai';

import SidebarToggler from '../sidebar-toggler';


describe('<SidebarToggler />', () => {
  it('toggles the "sidebar-is-open" class on <body />', () => {
    const wrapper = mount(<SidebarToggler />);
    const initiallyHasClass = global.document.body.classList.contains('sidebar-is-open');
    wrapper.simulate('click');
    const hasClassAfterClick = global.document.body.classList.contains('sidebar-is-open');
    assert.isFalse(initiallyHasClass === hasClassAfterClick);
    wrapper.simulate('click');
    const hasClassAfterSecondClick = global.document.body.classList.contains('sidebar-is-open');
    assert.isTrue(initiallyHasClass === hasClassAfterSecondClick);
  });
});
