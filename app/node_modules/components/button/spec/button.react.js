import * as React from 'react';
import { assert } from 'chai';
import { mount } from 'enzyme';

import Button from '../';


describe('<Button />', () => {
  it('renders a <button /> element', () => {
    const wrapper = mount(<Button name="the-button" onAction={() => {}} />);
    assert.equal(wrapper.find('button').length, 1);
  });

  it('calls onAction when it is clicked', (done) => {
    const handleAction = () => { done(); };
    const wrapper = mount(<Button name="the-button" onAction={handleAction} />);
    wrapper.simulate('click');
  });

  it('passes name to onAction', (done) => {
    const handleAction = (name) => {
      assert.equal(name, 'the-button');
      done();
    };
    const wrapper = mount(<Button name="the-button" onAction={handleAction} />);
    wrapper.simulate('click');
  });

  it('does not call onAction if disabled', () => {
    const handleAction = () => {
      assert.fail();
    };
    const wrapper = mount(<Button name="btn" onAction={handleAction} attributes={{ disabled: true }} />);
    wrapper.simulate('click');
  });
});
